<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • innsight</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://bips-hb.github.io/innsight/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">innsight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/innsight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/detailed_overview.html">In-depth explanation</a>
    </li>
    <li>
      <a href="../articles/Example_1_iris.html">Example 1: Iris dataset with torch</a>
    </li>
    <li>
      <a href="../articles/Example_2_penguin.html">Example 2: Penguin dataset with torch and luz</a>
    </li>
    <li>
      <a href="../articles/Example_3_imagenet.html">Example 3: ImageNet with keras</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bips-hb/innsight/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/bips-hb/innsight/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.1" id="innsight-031">innsight 0.3.1<a class="anchor" aria-label="anchor" href="#innsight-031"></a></h2>
<ul><li>Added citation information for the accompanying scientific publication in the documentation and the package metadata.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="innsight-030">innsight 0.3.0<small>2023-12-21</small><a class="anchor" aria-label="anchor" href="#innsight-030"></a></h2>
<p>This is a minor release but does contain a range of substantial new features as well as visual changes, along with some bug fixes. For users, however, nothing changes that is not set by default as in the previous version or made aware by warnings. An exception to this are the graphics that are created using <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>. These now contain a small box with information about the prediction, the sum of the relevances and the goal of the method.</p>
<div class="section level4">
<h4 id="breaking-changes-0-3-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-0"></a></h4>
<ul><li><p>By default, the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method now creates a small box within the plot with the prediction for the instance and the corresponding class. This info box also contains the sum of the relevances and, if available, the decomposition target of the method. Displaying the box can be toggled with the <code>show_preds</code> argument.</p></li>
<li><p>The <code><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot()</a></code> function for the interpretation methods has been renamed <code><a href="../reference/plot_global.html">plot_global()</a></code> due to the inappropriate name (especially for images). The old method <code><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot()</a></code> can still be used, but throws a warning for image data and executes the method <code><a href="../reference/plot_global.html">plot_global()</a></code> internally.</p></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h4>
<ul><li>We have now implemented the following other feature attribution methods:
<ul><li>Integrated Gradients (<code>IntegratedGradient</code>)</li>
<li>Expected Gradients (<code>ExpectedGradient</code>)</li>
<li>DeepSHAP (<code>DeepSHAP</code>)</li>
<li>and the model-agnostic approaches LIME (<code>LIME</code>) and Shapley values (<code>SHAP</code>). Both can be applied to arbitrary models (by providing the prediction function <code>pref_fun</code>) and wrap the suggested packages <code>lime</code> and <code>fastshap</code>. However, they can only be applied to models with a single input and output layer.</li>
</ul></li>
<li>We have added functions for the initialization of R6 classes. In this way, we don’t require prior knowledge of R6 syntax for our package. We implemented the following methods:
<ul><li>
<code>convert(...)</code> for <code>Converter$new(...)</code>
</li>
<li>
<code>run_grad(...)</code> for <code>Gradient$new(...)</code>
</li>
<li>
<code>run_smoothgrad(...)</code> for <code>SmoothGrad$new(...)</code>
</li>
<li>
<code>run_intgrad(...)</code> for <code>IntegratedGradient$new(...)</code>
</li>
<li>
<code>run_expgrad(...)</code> for <code>ExpectedGradient$new(...)</code>
</li>
<li>
<code>run_deeplift(...)</code> for <code>DeepLift$new(...)</code>
</li>
<li>
<code>run_deepshap(...)</code> for <code>DeepSHAP$new(...)</code>
</li>
<li>
<code>run_lrp(...)</code> for <code>LRP$new(...)</code>
</li>
<li>
<code>run_cw(...)</code> for <code>ConnectionWeights$new(...)</code>
</li>
<li>
<code>run_lime(...)</code> for <code>LIME$new(...)</code>
</li>
<li>
<code>run_shap(...)</code> for <code>SHAP$new(...)</code>
</li>
</ul></li>
<li>In addition to the output index with <code>output_idx</code>, the new argument <code>output_label</code> for the output label can now also be specified in order to calculate or visualize only certain output nodes.</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-and-vignettes-0-3-0">Documentation and vignettes<a class="anchor" aria-label="anchor" href="#documentation-and-vignettes-0-3-0"></a></h4>
<ul><li>Update documentation and vignettes according to the new features and changes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="innsight-021">innsight 0.2.1<a class="anchor" aria-label="anchor" href="#innsight-021"></a></h2>
<ul><li>Add <code>if(require("pkgname"))</code> for suggested packages in examples</li>
<li>Fix typos in documentation</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="innsight-020">innsight 0.2.0<small>2023-04-16</small><a class="anchor" aria-label="anchor" href="#innsight-020"></a></h2>
<p>This is a minor release but does contain a range of substantial new features as well as visual changes, along with some bug fixes. This is accompanied by internal breaking changes in the R6 classes <code>Converter</code> and <code>ConvertedModel</code> enabling non-sequential models with multiple input or output layers. For users, however, nothing changes that is not set by default as in the previous version or made aware by warnings.</p>
<div class="section level4">
<h4 id="breaking-changes-0-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h4>
<p>There are no user-facing changes that are not handled with default values or noted by throwing warnings.</p>
<ul><li><p>When converting a model to a list, two necessary entries are added, containing the indices of the layers from the sub-list <code>layers</code> indicating the input (<code>input_nodes</code>) and output (<code>output_nodes</code>) layers of the passed model. If one of these values is not set, a warning is raised and it is assumed that the model is sequential, i.e., the first layer is the only input layer and the last layer is the only output layer.</p></li>
<li><p>Similarly, for each layer in the sub-list <code>layers</code> the entries <code>input_layers</code> and <code>output_layers</code> are added containing the indices of the preceding and following layers for this layer. If these values are not set, a warning is thrown and it is assumed that the model is sequential, i.e., the previous entry is the only preceding and the next entry is the only succeeding layer. The values <code>0</code> and <code>-1</code> indicate the input and output layers of the model, respectively.</p></li>
<li><p>The functions <code>plot</code> and <code>boxplot</code> for the interpretability methods no longer return instances of <strong>ggplot2</strong> or <strong>plotly</strong>, but instances of the new S4 classes <code>innsight_ggplot2</code> or <code>innsight_plotly</code>. However, these objects can be treated like ordinary objects of <strong>ggplot2</strong> or <strong>plotly</strong> to some extent and also create the usual visualizations by default (see <a href="https://bips-hb.github.io/innsight/articles/detailed_overview.html#advanced-plotting">this section</a> in the in-depth explanation for details). Since the results of models with multiple input and output layers are very complex, the suggested packages <strong>gtable</strong>, <strong>grid</strong> and <strong>gridExtra</strong> are needed only in these cases.</p></li>
<li>
<p>Add <strong>cli</strong> dependency:</p>
<ul><li><p>Errors, warnings, messages, and progress bars have been revised and unified, and now use the package <strong>cli</strong>.</p></li>
<li><p>Overwrite the default <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> function for the R6 classes <code>Converter</code> and <code>InterpretingMethod</code>, which in particular is inherited by all interpretability methods.</p></li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h4>
<ul><li>
<p>The <code>Converter</code> class now supports more models and layers:</p>
<ul><li><p>Now models created by <code><a href="https://rdrr.io/pkg/keras/man/keras_model.html" class="external-link">keras::keras_model</a></code> are accepted. In addition, we add support for the following layers of the <strong>keras</strong> package: <code>layer_input</code>, <code>layer_concatenate</code>, <code>layer_add</code>, <code>layer_activation*</code>, <code>layer_zero_padding_1d</code>, <code>layer_zero_padding_2d</code>, <code>layer_batch_normalization</code>, <code>layer_global_average_pooling_1d</code>, <code>layer_global_average_pooling_2d</code>, <code>layer_global_max_pooling_1d</code> and <code>layer_global_max_pooling_2d</code></p></li>
<li><p>For models created by the <strong>torch</strong> package, we add support for <code>nn_batch_norm1d</code> and <code>nn_batch_norm2d</code></p></li>
<li>
<p>For models defined as a named list, we add the entries described in the <a href="#breaking-changes">breaking changes</a> and the following layer types (see the <a href="https://bips-hb.github.io/innsight/articles/detailed_overview.html#model-as-named-list">in-depth explanation</a> for details):</p>
<ul><li>
<code>type = "BatchNorm"</code> for batch normalization layers</li>
<li>
<code>type = "GlobalPooling"</code> for all kinds of global pooling layers, i.e. maximum or average global pooling</li>
<li>
<code>type = "Padding"</code> for padding layers</li>
<li>
<code>type = "Concatenate"</code> for concatenation layer</li>
<li>
<code>type = "Add"</code> for an adding layer</li>
</ul></li>
</ul></li>
<li><p>Extend the arguments <code>output_idx</code> (in all interpretability methods and the corresponding plot and boxplot methods), <code>input_dim</code>, <code>input_names</code>, <code>output_dim</code>, <code>output_names</code> (in <code>Converter</code>), which now allow lists of these arguments to define them for multiple input or output layers.</p></li>
<li><p>Overwrite the default <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> function for the R6 classes <code>Converter</code> and <code>InterpretingMethod</code>, which in particular is inherited by all interpretability methods.</p></li>
<li><p>Add the S3 function <code><a href="../reference/get_result.html">get_result()</a></code> for instances of the R6 class <code>InterpretingMethod</code> (i.e., also for all inherited methods) that forwards to the corresponding class method <code>$get_result()</code>.</p></li>
<li><p>In the method <code>LRP</code> it is now possible to set the rule and the parameter individually for each layer type. In addition, for batch normalization layers the rule <code>"pass"</code> is added, which skips this type of layer in the backward pass.</p></li>
<li><p>Add the logical argument <code>winner_takes_all</code> to the methods <code>DeepLift</code> and <code>LRP</code> to treat maximum pooling layers as an average pooling layer in the backward pass.</p></li>
<li><p>Add the logical argument <code>verbose</code> to all implemented methods to show or disable the progress bar.</p></li>
</ul></div>
<div class="section level4">
<h4 id="documentation-and-vignettes-0-2-0">Documentation and vignettes<a class="anchor" aria-label="anchor" href="#documentation-and-vignettes-0-2-0"></a></h4>
<ul><li><p>Revise the documentation and use roxygen templates (<code>@template</code>) for almost all fields and arguments. These are stored in the folder <code>man-roxygen</code>.</p></li>
<li><p>Revise the introduction vignette <code>innsight</code> (<code><a href="../articles/innsight.html">vignette("innsight")</a></code>).</p></li>
<li><p>Add vignette “Example 1: Iris dataset with torch” describing the basic usage of the package with tabular data and only numeric features.</p></li>
<li><p>Add vignette “Example 2: Penguin dataset with torch and luz” describing a more advanced usage with tabular data containing numerical and categorical features.</p></li>
<li><p>Add article “Example 3: ImageNet with keras” describing the usage of the package with predefined models in <strong>keras</strong> on the ImageNet dataset.</p></li>
<li><p>Add the vignette “In-depth explanation” explaining all methods, arguments and possibilities of the package in great detail. This vignette also includes the depreciated vignette “Custom Model Definition”.</p></li>
<li><p>The vignette “Custom Model Definition” is deprecated.</p></li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-and-bug-fixes-0-2-0">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-0-2-0"></a></h4>
<ul><li><p>Small speed improvements by using more <strong>torch</strong> functions, e.g., <code>torch_clip(x, min = 0)</code> instead of <code>(x &gt; 0) * x</code></p></li>
<li><p>Some smaller bug fixes</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="innsight-011">innsight 0.1.1<small>2022-08-29</small><a class="anchor" aria-label="anchor" href="#innsight-011"></a></h2>
<ul><li>Fix problem with old HTML version of the manual by re-generating the <code>.Rd</code> files using the current CRAN version of roxygen2.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="innsight-010">innsight 0.1.0<small>2021-11-22</small><a class="anchor" aria-label="anchor" href="#innsight-010"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niklas Koenen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

