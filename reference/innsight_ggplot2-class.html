<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>S4-Class for ggplot2-based plots — innsight_ggplot2 • innsight</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="S4-Class for ggplot2-based plots — innsight_ggplot2"><meta property="og:description" content="The S4 class innsight_ggplot2 visualizes the results of the methods
provided from the package innsight using ggplot2. In addition, it
allows easier analysis of the results and modification of the
visualization by basic generic functions. The individual slots are for
internal use only and should not be modified."><meta property="og:image" content="https://bips-hb.github.io/innsight/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">innsight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/innsight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Example_1_iris.html">Example 1: Iris Dataset with `torch`</a>
    </li>
    <li>
      <a href="../articles/Example_2_penguin.html">Example 2: Penguin Dataset with `torch` and `luz`</a>
    </li>
    <li>
      <a href="../articles/Example_3_imagenet.html">Example 3: ImageNet with `keras`</a>
    </li>
    <li>
      <a href="../articles/detailed_overview.html">In-depth Explanation</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bips-hb/innsight/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>S4-Class for ggplot2-based plots</h1>
    <small class="dont-index">Source: <a href="https://github.com/bips-hb/innsight/blob/HEAD/R/innsight_ggplot2.R" class="external-link"><code>R/innsight_ggplot2.R</code></a></small>
    <div class="hidden name"><code>innsight_ggplot2-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The S4 class <code>innsight_ggplot2</code> visualizes the results of the methods
provided from the package <code>innsight</code> using <a href="https://ggplot2.tidyverse.org/reference/ggplot2-package.html" class="external-link">ggplot2</a>. In addition, it
allows easier analysis of the results and modification of the
visualization by basic generic functions. The individual slots are for
internal use only and should not be modified.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>This S4 class is a simple extension of a <a href="https://ggplot2.tidyverse.org/reference/ggplot2-package.html" class="external-link">ggplot2</a> object that enables
a more detailed analysis of the results and a way to visualize the results
of models with multiple input layers (e.g., images and tabular data).
The distinction between one and multiple input layers decides the behavior
of this class, and this information is stored in the slot <code>multiplot</code>.</p><div class="section">
<h3 id="one-input-layer-multiplot-false-">One input layer (<code>multiplot = FALSE</code>)<a class="anchor" aria-label="anchor" href="#one-input-layer-multiplot-false-"></a></h3>


<p>If the model passed to a method from the innsight package has only one
input layer, the S4 class <code>innsight_ggplot2</code> is just a wrapper of a
single ggplot2 object. This object is stored as a 1x1 matrix in
the slot <code>grobs</code> and the slots <code>output_strips</code> and <code>col_dims</code> contain
only empty lists because no second line of stripes describing the input
layer is needed.
Although it is an object of the class <code>innsight_ggplot2</code>,
the generic function <a href="innsight_ggplot2-plus.html">+.innsight_ggplot2</a> provides a ggplot2-typical usage
to modify the representation. The graphical objects are simply forwarded to
the ggplot2 object in <code>grobs</code> and added using ggplot2::+.gg. In addition,
some generic functions are implemented to visualize or examine
individual aspects of the overall plot in more detail. All available
generic functions are listed below:</p><ul><li><p><code><a href="innsight_ggplot2-plus.html">+</a></code></p></li>
<li><p><code><a href="innsight_ggplot2-print.html">plot</a></code>,
<code><a href="innsight_ggplot2-print.html">print</a></code> and
<code><a href="innsight_ggplot2-print.html">show</a></code>
(all behave the same)</p></li>
<li><p><code><a href="innsight_ggplot2-indexing.html">[</a></code></p></li>
<li><p><code><a href="innsight_ggplot2-indexing.html">[[</a></code></p></li>
</ul><p><em>Note:</em> In this case, the generic function <code>[&lt;-</code> is not implemented
because there is only one ggplot2 object and not multiple ones.</p>
</div>

<div class="section">
<h3 id="multiple-input-layers-multiplot-true-">Multiple input layers (<code>multiplot = TRUE</code>)<a class="anchor" aria-label="anchor" href="#multiple-input-layers-multiplot-true-"></a></h3>


<p>If the passed model has multiple input layers, a ggplot2 object is
created for each data point, input layer and output node and then stored
as a matrix in the slot <code>grobs</code>. During visualization, these are combined
using the function <code><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">gridExtra::arrangeGrob</a></code> and corresponding strips for
the output layer/node names are added at the top. The labels, column
indices and theme for the extra row of strips are stored in the slots
<code>output_strips</code> and <code>col_dims</code>. The strips for the input
layer and the data points (if not boxplot) are created using
<a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">ggplot2::facet_grid</a> in the individual ggplot2 objects of the grob matrix.
An example structure is shown below:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">|</span>      Output <span class="dv">1</span><span class="sc">:</span> Node <span class="dv">1</span>      <span class="sc">|</span>      Output <span class="dv">1</span><span class="sc">:</span> Node <span class="dv">3</span>      <span class="sc">|</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="er">|</span>   Input <span class="dv">1</span>   <span class="sc">|</span>   Input <span class="dv">2</span>    <span class="sc">|</span>   Input <span class="dv">1</span>   <span class="sc">|</span>   Input <span class="dv">2</span>    <span class="sc">|</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="er">|</span><span class="sc">---------------------------------------------------------</span><span class="er">|</span><span class="sc">-------------</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="er">|</span>             <span class="er">|</span>              <span class="er">|</span>             <span class="er">|</span>              <span class="er">|</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> grobs[<span class="dv">1</span>,<span class="dv">1</span>]  <span class="sc">|</span>  grobs[<span class="dv">1</span>,<span class="dv">2</span>]  <span class="sc">|</span> grobs[<span class="dv">1</span>,<span class="dv">3</span>]  <span class="sc">|</span> grobs[<span class="dv">1</span>,<span class="dv">4</span>]   <span class="sc">|</span> data point <span class="dv">1</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="sc">|</span>             <span class="er">|</span>              <span class="er">|</span>             <span class="er">|</span>              <span class="er">|</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="er">|</span><span class="sc">---------------------------------------------------------</span><span class="er">|</span><span class="sc">-------------</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="er">|</span>             <span class="er">|</span>              <span class="er">|</span>             <span class="er">|</span>              <span class="er">|</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> grobs[<span class="dv">2</span>,<span class="dv">1</span>]  <span class="sc">|</span>  grobs[<span class="dv">2</span>,<span class="dv">2</span>]  <span class="sc">|</span> grobs[<span class="dv">2</span>,<span class="dv">3</span>]  <span class="sc">|</span> grobs[<span class="dv">2</span>,<span class="dv">4</span>]   <span class="sc">|</span> data point <span class="dv">2</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="sc">|</span>             <span class="er">|</span>              <span class="er">|</span>             <span class="er">|</span>              <span class="er">|</span></span></code></pre><p></p></div>
<p>Similar to the other case, generic functions are implemented to add
graphical objects from ggplot2, create the whole plot or select only
specific rows/columns. The difference, however, is that each entry in
each row and column is a separate ggplot2 object and can be modified
individually. For example, adds <code>+ ggplot2::xlab("X")</code> the x-axis label
"X" to all objects and not only to those in the last row. The generic
function <code><a href="innsight_ggplot2-indexing.html">[&lt;-</a></code> allows you to replace
a selection of objects in <code>grobs</code> and thus, for example, to change
the x-axis title only in the bottom row. All available
generic functions are listed below:</p><ul><li><p><code><a href="innsight_ggplot2-plus.html">+</a></code></p></li>
<li><p><code><a href="innsight_ggplot2-print.html">plot</a></code>,
<code><a href="innsight_ggplot2-print.html">print</a></code> and
<code><a href="innsight_ggplot2-print.html">show</a></code>
(all behave the same)</p></li>
<li><p><code><a href="innsight_ggplot2-indexing.html">[</a></code></p></li>
<li><p><code><a href="innsight_ggplot2-indexing.html">[[</a></code></p></li>
<li><p><code><a href="innsight_ggplot2-indexing.html">[&lt;-</a></code></p></li>
</ul><p><em>Note:</em> Since this is not a standard visualization, the suggested packages
<code>'grid'</code>, <code>'gridExtra'</code> and <code>'gtable'</code> must be installed.</p>
</div>

    </div>
    <div id="slots">
    <h2>Slots</h2>
    

<dl><dt><code>grobs</code></dt>
<dd><p>The individual ggplot2 objects arranged as a matrix (see
details for more information)</p></dd>


<dt><code>multiplot</code></dt>
<dd><p>A logical value indicating whether there are multiple
input layers and therefore correspondingly individual ggplot2 objects
instead of one single object.</p></dd>


<dt><code>output_strips</code></dt>
<dd><p>A list containing the labels and themes of the strips
for the output nodes. This slot is only relevant if <code>multiplot</code> is <code>TRUE</code>.</p></dd>


<dt><code>col_dims</code></dt>
<dd><p>A list of the length of <code>output_strips</code> assigning to
each strip the column index of <code>grobs</code> of the associated strip.</p></dd>


<dt><code>boxplot</code></dt>
<dd><p>A logical value indicating whether the result of individual
data points or a boxplot over multiple instances is displayed.</p></dd>


</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niklas Koenen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

