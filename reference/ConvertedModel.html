<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Converted torch-based model — ConvertedModel • innsight</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Converted torch-based model — ConvertedModel"><meta property="og:description" content="This class stores all layers converted to torch in a module which can be
used like the original model (but torch-based). In addition, it provides
other functions that are useful for interpreting individual predictions or
explaining the entire model. This model is part of the class Converter
and is the core for all the necessary calculations in the methods provided
in this package."><meta property="og:image" content="https://bips-hb.github.io/innsight/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">innsight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/innsight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Custom_Model_Definition.html">Custom Model Definition</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bips-hb/innsight/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Converted torch-based model</h1>
    <small class="dont-index">Source: <a href="https://github.com/bips-hb/innsight/blob/HEAD/R/Converter.R" class="external-link"><code>R/Converter.R</code></a></small>
    <div class="hidden name"><code>ConvertedModel.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This class stores all layers converted to torch in a module which can be
used like the original model (but torch-based). In addition, it provides
other functions that are useful for interpreting individual predictions or
explaining the entire model. This model is part of the class <a href="Converter.html">Converter</a>
and is the core for all the necessary calculations in the methods provided
in this package.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ConvertedModel</span><span class="op">(</span><span class="va">modules_list</span>, dtype <span class="op">=</span> <span class="st">"float"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>modules_list</dt>
<dd><p>A list of all accepted layers created by the 'Converter'
class during initialization.</p></dd>


<dt>dtype</dt>
<dd><p>The data type for all the calculations and defined tensors. Use
either <code>'float'</code> for <a href="https://rdrr.io/pkg/torch/man/torch_dtype.html" class="external-link">torch::torch_float</a> or <code>'double'</code> for
<a href="https://rdrr.io/pkg/torch/man/torch_dtype.html" class="external-link">torch::torch_double</a>.</p></dd>

</dl></div>
    <div id="public-fields">
    <h2>Public fields</h2>
    

<dl><dt><code>modules_list</code></dt>
<dd><p>A list of all accepted layers created by the
'Converter' class during initialization.</p></dd>

<dt><code>dtype</code></dt>
<dd><p>The datatype for all the calculations and defined
tensors. Either <code>'float'</code> for <a href="https://rdrr.io/pkg/torch/man/torch_dtype.html" class="external-link">torch::torch_float</a> or <code>'double'</code> for
<a href="https://rdrr.io/pkg/torch/man/torch_dtype.html" class="external-link">torch::torch_double</a></p></dd>
.

</dl></div>
    <div id="method-forward-">
    <h2>Method <code>forward()</code></h2>
    


<p>The forward method of the whole model, i.e. it calculates the output
\(y=f(x)\) of a given input \(x\). In doing so, all intermediate
values are stored in the individual torch modules from <code>modules_list</code>.</p><div class="section">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h3>


<p><code>self(x, channels_first = TRUE)</code></p>
</div>

<div class="section">
<h3 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h3>


<dl><dt><code>x</code></dt>
<dd><p>The input torch tensor of dimensions
<em>(batch_size, dim_in)</em>.</p></dd>

<dt><code>channels_first</code></dt>
<dd><p>If the input tensor <code>x</code> is given in the format
'channels first' use <code>TRUE</code>. Otherwise, if the channels are last,
use <code>FALSE</code> and the input will be transformed into the format 'channels
first'. Default: <code>TRUE</code>.</p></dd>


</dl></div>

<div class="section">
<h3 id="return">Return<a class="anchor" aria-label="anchor" href="#return"></a></h3>


<p>Returns the output of the model with respect to the given inputs with
dimensions <em>(batch_size, dim_out)</em>.</p>
</div>

    </div>
    <div id="method-update-ref-">
    <h2>Method <code>update_ref()</code></h2>
    


<p>This method updates the stored intermediate values in each module from the
list <code>modules_list</code> when the reference input <code>x_ref</code> has changed.</p><div class="section">
<h3 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h3>


<p><code>self$update_ref(x_ref, channels_first = TRUE)</code></p>
</div>

<div class="section">
<h3 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h3>


<dl><dt><code>x_ref</code></dt>
<dd><p>Reference input of the model of dimensions
<em>(1, dim_in)</em>.</p></dd>

<dt><code>channels_first</code></dt>
<dd><p>If the reference input tensor <code>x</code> is given in
the format 'channels first' use <code>TRUE</code>. Otherwise, if the channels are
last, use <code>FALSE</code> and the input will be transformed into the format
'channels first'. Default: <code>TRUE</code>.</p></dd>


</dl></div>

<div class="section">
<h3 id="return-1">Return<a class="anchor" aria-label="anchor" href="#return-1"></a></h3>


<p>Returns the output of the reference input with dimension
<em>(1, dim_out)</em> after passing through the model.</p>
</div>

    </div>
    <div id="method-set-dtype-">
    <h2>Method <code>set_dtype()</code></h2>
    


<p>This method changes the data type for all the layers in <code>modules_list</code>.
Use either <code>'float'</code> for <a href="https://rdrr.io/pkg/torch/man/torch_dtype.html" class="external-link">torch::torch_float</a> or <code>'double'</code> for
<a href="https://rdrr.io/pkg/torch/man/torch_dtype.html" class="external-link">torch::torch_double</a>.</p><div class="section">
<h3 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h3>


<p><code>self$set_dtype(dtype)</code></p>
</div>

<div class="section">
<h3 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h3>


<dl><dt><code>dtype</code></dt>
<dd><p>The data type for all the calculations and defined
tensors.</p></dd>


</dl></div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niklas Koenen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

