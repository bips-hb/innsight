<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Syntactic sugar for object construction — innsight_sugar • innsight</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Syntactic sugar for object construction — innsight_sugar"><meta property="og:description" content="Since all methods and the preceding conversion step in the innsight
package were implemented using R6 classes and these always require a call
to classname$new() for initialization, the following functions are
defined to shorten the construction of the corresponding R6 objects:
convert() for Converter
run_grad() for Gradient
run_smoothgrad() for SmoothGrad
run_intgrad() for IntegratedGradient
run_expgrad() for ExpectedGradient
run_lrp() for LRP
run_deeplift() for DeepLift
run_deepshap for DeepSHAP
run_cw for ConnectionWeights
run_lime for LIME
run_shap for SHAP

"><meta property="og:image" content="https://bips-hb.github.io/innsight/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">innsight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/innsight.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/detailed_overview.html">In-depth explanation</a>
    </li>
    <li>
      <a href="../articles/Example_1_iris.html">Example 1: Iris dataset with torch</a>
    </li>
    <li>
      <a href="../articles/Example_2_penguin.html">Example 2: Penguin dataset with torch and luz</a>
    </li>
    <li>
      <a href="../articles/Example_3_imagenet.html">Example 3: ImageNet with keras</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bips-hb/innsight/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Syntactic sugar for object construction</h1>
    <small class="dont-index">Source: <a href="https://github.com/bips-hb/innsight/blob/master/R/innsight_sugar.R" class="external-link"><code>R/innsight_sugar.R</code></a></small>
    <div class="hidden name"><code>innsight_sugar.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Since all methods and the preceding conversion step in the <code>innsight</code>
package were implemented using R6 classes and these always require a call
to <code>classname$new()</code> for initialization, the following functions are
defined to shorten the construction of the corresponding R6 objects:</p><ul><li><p><code>convert()</code> for <code><a href="Converter.html">Converter</a></code></p></li>
<li><p><code>run_grad()</code> for <code><a href="Gradient.html">Gradient</a></code></p></li>
<li><p><code>run_smoothgrad()</code> for <code><a href="SmoothGrad.html">SmoothGrad</a></code></p></li>
<li><p><code>run_intgrad()</code> for <code><a href="IntegratedGradient.html">IntegratedGradient</a></code></p></li>
<li><p><code>run_expgrad()</code> for <code><a href="ExpectedGradient.html">ExpectedGradient</a></code></p></li>
<li><p><code>run_lrp()</code> for <code><a href="LRP.html">LRP</a></code></p></li>
<li><p><code>run_deeplift()</code> for <code><a href="DeepLift.html">DeepLift</a></code></p></li>
<li><p><code>run_deepshap</code> for <code><a href="DeepSHAP.html">DeepSHAP</a></code></p></li>
<li><p><code>run_cw</code> for <code><a href="ConnectionWeights.html">ConnectionWeights</a></code></p></li>
<li><p><code>run_lime</code> for <code><a href="LIME.html">LIME</a></code></p></li>
<li><p><code>run_shap</code> for <code><a href="SHAP.html">SHAP</a></code></p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Create a new `Converter` object of the given `model`</span></span>
<span><span class="fu">convert</span><span class="op">(</span><span class="va">model</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `Gradient` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_grad</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `SmoothGrad` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_smoothgrad</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `IntegratedGradient` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_intgrad</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `ExpectedGradient` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_expgrad</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `LRP` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_lrp</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `DeepLift` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_deeplift</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `DeepSHAP` method to the passed `data` to be explained</span></span>
<span><span class="fu">run_deepshap</span><span class="op">(</span><span class="va">converter</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `ConnectionWeights` method (argument `data` is not always required)</span></span>
<span><span class="fu">run_cw</span><span class="op">(</span><span class="va">converter</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `LIME` method to explain `data` by using the dataset `data_ref`</span></span>
<span><span class="fu">run_lime</span><span class="op">(</span><span class="va">model</span>, <span class="va">data</span>, <span class="va">data_ref</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply the `SHAP` method to explain `data` by using the dataset `data_ref`</span></span>
<span><span class="fu">run_shap</span><span class="op">(</span><span class="va">model</span>, <span class="va">data</span>, <span class="va">data_ref</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>(<code><a href="https://torch.mlverse.org/docs/reference/nn_sequential.html" class="external-link">nn_sequential</a></code>, <code><a href="https://rdrr.io/pkg/keras/man/keras_model.html" class="external-link">keras_model</a></code>,
<code><a href="https://rdrr.io/pkg/neuralnet/man/neuralnet.html" class="external-link">neuralnet</a></code> or <code>list</code>)<br>
A trained neural network for classification or regression
tasks to be interpreted. Only models from the following types or
packages are allowed: <code><a href="https://torch.mlverse.org/docs/reference/nn_sequential.html" class="external-link">nn_sequential</a></code>,
<code><a href="https://rdrr.io/pkg/keras/man/keras_model.html" class="external-link">keras_model</a></code>,
<code><a href="https://rdrr.io/pkg/keras/man/keras_model_sequential.html" class="external-link">keras_model_sequential</a></code>,
<code><a href="https://rdrr.io/pkg/neuralnet/man/neuralnet.html" class="external-link">neuralnet</a></code> or a named list (see details).<br><strong>Note:</strong> For the model-agnostic methods, an arbitrary fitted model for a
classification or regression task can be passed. A <code><a href="Converter.html">Converter</a></code> object can
also be passed. In order for the package to know how to make predictions
with the given model, a prediction function must also be passed with
the argument <code>pred_fun</code>. However, for models created by
<code><a href="https://torch.mlverse.org/docs/reference/nn_sequential.html" class="external-link">nn_sequential</a></code>, <code><a href="https://rdrr.io/pkg/keras/man/keras_model.html" class="external-link">keras_model</a></code>,
<code><a href="https://rdrr.io/pkg/neuralnet/man/neuralnet.html" class="external-link">neuralnet</a></code> or <code><a href="Converter.html">Converter</a></code>,
these have already been pre-implemented and do not need to be
specified.<br></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments passed to the individual constructor functions
of the methods R6 classes.</p></dd>


<dt id="arg-converter">converter<a class="anchor" aria-label="anchor" href="#arg-converter"></a></dt>
<dd><p>(<code><a href="Converter.html">Converter</a></code>)<br>
An instance of the <code>Converter</code> class that includes the
torch-converted model and some other model-specific attributes. See
<code><a href="Converter.html">Converter</a></code> for details.<br></p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></code>, <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code>, <code><a href="https://torch.mlverse.org/docs/reference/torch_tensor.html" class="external-link">torch_tensor</a></code> or <code>list</code>)<br>
The data to which the method is to be applied. These must
have the same format as the input data of the passed model to the
converter object. This means either</p><ul><li><p>an <code>array</code>, <code>data.frame</code>, <code>torch_tensor</code> or array-like format of
size <em>(batch_size, dim_in)</em>, if e.g., the model has only one input layer, or</p></li>
<li><p>a <code>list</code> with the corresponding input data (according to the
upper point) for each of the input layers.</p></li>
</ul><p><strong>Note:</strong> For the model-agnostic methods, only models with a single
input and output layer is allowed!<br></p></dd>


<dt id="arg-data-ref">data_ref<a class="anchor" aria-label="anchor" href="#arg-data-ref"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></code>, <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> or <code><a href="https://torch.mlverse.org/docs/reference/torch_tensor.html" class="external-link">torch_tensor</a></code>)<br>
The dataset to which the method is to be applied. These must
have the same format as the input data of the passed model and has to
be either <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></code>, an <code><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></code>, a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> or a
<code><a href="https://torch.mlverse.org/docs/reference/torch_tensor.html" class="external-link">torch_tensor</a></code>.<br><strong>Note:</strong> For the model-agnostic methods, only models with a single
input and output layer is allowed!<br></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6::R6Class</a> object of the respective type.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niklas Koenen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

