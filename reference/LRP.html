<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Layer-wise Relevance Propagation (LRP) method — LRP • msIML</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Layer-wise Relevance Propagation (LRP) method — LRP" />
<meta property="og:description" content="This is an implementation of the Layer-wise Relevance Propagation (LRP)
algorithm introduced by Bach et al. (2015). It's a local method for
interpreting a single element of the dataset and returns the relevance scores for
each input feature. The basic idea of this method is to decompose the
prediction score of the model with respect to the input features, i.e.
$$f(x) = \sum_i R(x_i).$$
Because of the bias vector, this decomposition is generally an approximation.
There exist several propagation rules to determine the relevance scores. In this
package are implemented: linear_simple_rule,
linear_eps_rule, linear_ab_rule,
linear_ww_rule." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">msIML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Layer-wise Relevance Propagation (LRP) method</h1>
    
    <div class="hidden name"><code>LRP.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is an implementation of the <em>Layer-wise Relevance Propagation (LRP)</em>
algorithm introduced by Bach et al. (2015). It's a local method for
interpreting a single element of the dataset and returns the relevance scores for
each input feature. The basic idea of this method is to decompose the
prediction score of the model with respect to the input features, i.e.
$$f(x) = \sum_i R(x_i).$$
Because of the bias vector, this decomposition is generally an approximation.
There exist several propagation rules to determine the relevance scores. In this
package are implemented: <code><a href='linear_simple_rule.html'>linear_simple_rule</a></code>,
<code><a href='linear_eps_rule.html'>linear_eps_rule</a></code>, <code><a href='linear_ab_rule.html'>linear_ab_rule</a></code>,
<code><a href='linear_ww_rule.html'>linear_ww_rule</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>LRP</span><span class='op'>(</span><span class='va'>analyzer</span>, <span class='va'>data</span>, rule_name <span class='op'>=</span> <span class='st'>"simple"</span>, rule_param <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>analyzer</th>
      <td><p>An instance of the R6 class <code><a href='Analyzer.html'>Analyzer</a></code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Either a matrix or a data frame, where each row must describe an
input to the network.</p></td>
    </tr>
    <tr>
      <th>rule_name</th>
      <td><p>The name of the rule, with which the relevance scores are
calculated. Implemented are <code>"simple"</code>, <code>"eps"</code>, <code>"ab"</code>,
<code>"ww"</code> (default: <code>"simple"</code>).</p></td>
    </tr>
    <tr>
      <th>rule_param</th>
      <td><p>The parameter of the selected rule. Note: Only the rules
<code>"eps"</code> and <code>"ab"</code> take use of the parameter. Use the default
value <code>NULL</code> for the default parameters ("eps" : \(0.01\), "ab" : \(0.5\)).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>It returns a list of matrices of shape <em>(in, out)</em>,
which contains the relevance scores for each input variable to the
output predictions or single output class (if <code>out_class</code> is not <code>NULL</code>)
for every input in <code>data</code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>S. Bach et al. (2015) <em>On pixel-wise explanations for non-linear
classifier decisions by layer-wise relevance propagation.</em> PLoS ONE 10, p. 1-46</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='Analyzer.html'>Analyzer</a></code>,
<code><a href='linear_simple_rule.html'>linear_simple_rule</a></code>,
<code><a href='linear_eps_rule.html'>linear_eps_rule</a></code>, <code><a href='linear_ab_rule.html'>linear_ab_rule</a></code>,
<code><a href='linear_ww_rule.html'>linear_ww_rule</a></code>, <a href='plot.LRP.html'>plot.LRP</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/bips-hb/neuralnet'>neuralnet</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>)</span>
<span class='va'>nn</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/neuralnet/man/neuralnet.html'>neuralnet</a></span><span class='op'>(</span> <span class='va'>Species</span> <span class='op'>~</span> <span class='va'>.</span>,
                 <span class='va'>iris</span>, linear.output <span class='op'>=</span> <span class='cn'>FALSE</span>,
                 hidden <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>,<span class='fl'>8</span><span class='op'>)</span>, act.fct <span class='op'>=</span> <span class='st'>"tanh"</span>, rep <span class='op'>=</span> <span class='fl'>1</span>, threshold <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>
<span class='co'># create an analyzer for this model</span>
<span class='va'>analyzer</span> <span class='op'>=</span> <span class='va'><a href='Analyzer.html'>Analyzer</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>nn</span><span class='op'>)</span>

<span class='co'># calculate relevance scores for the whole dataset</span>
<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'>LRP</span><span class='op'>(</span><span class='va'>analyzer</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>5</span><span class='op'>]</span>, rule_name <span class='op'>=</span> <span class='st'>"simple"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>result</span><span class='op'>)</span>
</div><div class='img'><img src='LRP-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># calculate relevance scores for the whole dataset with eps-rule (eps = 0.1)</span>
<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'>LRP</span><span class='op'>(</span><span class='va'>analyzer</span>, data <span class='op'>=</span> <span class='va'>iris</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>5</span><span class='op'>]</span>, rule_name <span class='op'>=</span> <span class='st'>"eps"</span>, rule_param <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>result</span><span class='op'>)</span>
</div><div class='img'><img src='LRP-2.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Niklas Koenen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


